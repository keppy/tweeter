"use strict";angular.module("tweeterApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("tweeterApp").controller("MainCtrl",["$scope","$http",function(a,b){a.loggedIn=!1,a.getTweets=function(){var c="/api/v1/users/"+a.userId+"/tweets";b({method:"GET",url:c}).success(function(b,c){a.stats=c,a.tweets=b}).error(function(b,c){a.stats=c,a.data=b})};var c=function(){0==a.loggedIn&&b({method:"GET",url:"api/v1/users"}).success(function(b){"number"==typeof b.id?(a.loggedIn=!0,a.userId=b.id,a.getTweets()):a.loggedIn=!1}).error(function(){a.loggedIn=!1})};c(),a.sendTweet=function(){if(this.text){var c={twitter_action:"new",tweet:this.text},d="/api/v1/users/"+a.userId+"/tweets";b({method:"POST",url:d,data:c}).success(function(b,c){a.stats=c,a.data=b}).error(function(b,c){a.stats=c,a.data=b}),this.text=""}},a.reTweet=function(c){var d=c.id_str,e={twitter_action:"retweet",tweet_id:d},f="/api/v1/users/"+a.userId+"/tweets";b({method:"POST",url:f,data:e}).success(function(b,c){a.stats=c,a.data=b}).error(function(b,c){a.stats=c,a.data=b})},a.favoriteTweet=function(c){var d=c.id_str,e={twitter_action:"favorite",tweet_id:d},f="/api/v1/users/"+a.userId+"/tweets";b({method:"POST",url:f,data:e}).success(function(b,c){a.stats=c,a.data=b}).error(function(b,c){a.stats=c,a.data=b})}}]);